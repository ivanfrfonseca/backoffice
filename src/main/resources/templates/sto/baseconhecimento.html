<!DOCTYPE html>
<html lang="pt-br" th:replace="~{sto/base :: layout (~{:: main})}">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>CPQD Backoffice - Base de Conhecimento</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet">

</head>
<body id="page-top">
	
	<main>
	
	<!-- JS -->
	<script src="/js/artigo.js" defer></script>
	
	<!-- Begin Page Content -->
    <div class="container-fluid">
	
	<h1 class="h3 mb-0 text-primary">Base de Conhecimento</h1>
	
	<!-- Divider -->
	<hr class="sidebar-divider">
	
	<div class ="col-12 py-4">
	<p>Digite sua dúvida, código ou parte da mensagem de erro: </p>
		<div class="d-flex align-items-center justify-content-between">
			<div class = "col-9">	
				<form th:action="@{/pesquisarartigos}" method="post">
			      <div class="input-group">
			          <input type="text" class="form-control bg-grey-200 border-5 small" placeholder="Ex: Fechamento Mensal ou ORA-000125"
			              aria-label="Search" aria-describedby="basic-addon2" id="pesquisarArtigo" name="titulo">
			          <input type="hidden" name="idEmpresa" id="idEmpresa" value="1">     
			          <div class="input-group-append">
			              <button class="btn btn-primary" type="submit">
			                  <span>Pesquisar</span>
			              </button>
			          </div>
			      </div>
			    </form>
			</div>
			<div>
			   <a class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"
			      href="/sto/cadastrarartigo"><i class="fas fa-plus fa-sm text-white-50"></i> Novo Artigo</a>
			</div>
		</div>
	</div>
	
	<!-- Divider -->
	<hr class="sidebar-divider">                       
	<!-- <h1 class="h3 mb-0 text-gray-800 py-4">Pesquisa de Artigos</h1>  -->
	
    <!-- Lista todos os artigos -->
    <div class="col-xl-12 py-2" th:each="artigo : ${artigos}">
        <!-- Approach -->
        <div class="card shadow mb-12">
            <div class="card-body">
                <div class ="d-flex align-items-center justify-content-between">
	                <div class="">
		               <a th:text="${artigo.titulo}" th:href="@{/sto/artigo-{id}(id=${artigo.id})}"></a>
		            </div>
	            	<div class="">
	               		<a th:href="@{/sto/editarartigo-{id}(id=${artigo.id})}" class="btn btn-info btn-icon-split btn-sm">
	               			<span class="icon text-white-50">
	                  			<i class="fas fa-edit"></i>
	                   		</span>
	                   		<span class="text">Editar</span>
	               		</a>
	               		<button th:onclick="apagarArtigo([[${artigo.id}]])" class="btn btn-danger btn-icon-split btn-sm">
	               			<span class="icon text-white-50">
	                  			<i class="fas fa-trash"></i>
	                   		</span>
	                   		<span class="text">Apagar</span>
	               		</button>
                	</div>
            	</div>
            </div>
        </div>
    </div>
    <br>           	
	</div>
	
		
	</main>    

</body>
</html>